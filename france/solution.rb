s = 'dcbbbccdbdbddcddadadaacaaabbdbabbabdbdbcacdcbbdddbbccdacdbcadcacdcaadbcdcaaabbcdbbcdcddbabdccdddaddbdabbdbbdddddaabacbbdbdaddccabbacacacdbacddacacbadcbddbacaddaabbbaaadccbadabbdbdcabacdbcacbaadccbbabcdbbabbddadcaaacacdccdbbbddaadcdddcaacbcbbccdbcdaabaabbddbccacddaccbbbccbddbcddddddaddbbbdbbcaabbdadcdadcdcdbaabbbadcadaabbcccadcddacbbbaaaccddbdaccacbbadbdbdaadaccadcbcbdbbbbcccbcadcdabbbddaaadaacadcbcbaddbddcadaddbcaabbbdaacbcacacbbcadcbaabdacadccdbbcbdddacaccbcbcdcaaabcbcdabadcabcadbababacaaacadcadacadaadccbaddabdcaaacbabdcddaadcbababcccbadadbadcbcbcdcbbbaccaaaccbbbdbdababdacdcbdabcdadcdbbbaddacaaabbbdacacdddbcddbcacbcbddcbabaccabbaddaadbabaadcbdccacdcacbbdcadbcaacdbdbbbcdccbcacdbaaaaccdaacdccabadaaccbbbccadaaadbccabadcaabccbcbdcdbbdaabdcdccabbbcbccdacbcdbbbadccdbcabcdbabcadaccbbbbcbbdacabbdaddcbcdaccadbcdcccdcdaabacdbcbcdacbacccadcbdacacabccbbbbbbcbdaacddcabbbccadabbabbbadcabadcdcccdbdcaaaaccdcdbcbcababbbdcdabbbdcddcaccbbdaccaddabcaccbdddbabbacddccdcbcbbccaacbbbaacbbacbaccbacaadbccdccdbadcacbaddacddbdbcaaaabbdaabcccdbbadddbcbddccdbdccdaddbcbcaccdbbddbdcddbdabcadaadbccbbdcdadcbbcbababbbaaacbabcbdcbbabababcdbbdbbaaccdbddcccabacaaaddccbaddabcadbbaddbadbaadddbcdababcddadcacbabccddbcadddacacbcdccbccdbddacabbccabbadaddbdacccdaaabcadbccaabbbdbccadbdaacaaabcadadadcbbcbdaccddacabbaacdbcdacccaadbcadabdaaddcaabbaacaddcabbcbdadaccdabdcbabcaaccddcabddddcccdbdbcaadbddbdbccaaabbcdbcdbddbcdddcacccbdabaddaacaabcbdcdabbdddcabdbbbdabadcddbbcddbcdacadbbbdbaadcbcadacaadcbbcddbaccbcaddacbaadccddddcbadacdcbbcdbaadbbdbabdbbcaaddacdacddadaaabbabbaddaccbdabccbababcbbadcccdcdabbaccabccabcbbabcdacacaabdacccddcaabaadcdabcbccddddcdcacabddcccaabbdcaacbbbabbbccdbcddcddbadbbbbcacbacdaaadbaabddccdadaadcdcbacbaaaadacaabdbbcacaccdaacccababaccdbdcbbababcbcdbddbbaccdbdcbdbdbbdbdccccddcbdadbadbbbdacbaadcdddcbbcacbdbdacdcdbcacbcdbacccddadcdbabdaabdbccbbcabadadcbdacabbdcbcbcdbaccdabdbbcaddbacacdabcdbdcdccaddacddddddabdabdcacddccdadabdbaabbcbbadcccbccdabcbdadcaaaabdabcadacacbdacdbcacbadbaaaacdabbadcccdadcdadbbbcabbbcdddcccccadaccdaabbbcbcabbbcbdadbdccdbdcddaacaaadbbacbdadcdadaaccacdcdbbdddaabbaadddbcccacdabbcabaccbcccbcdaabdbdabcccdbdabbbcaacabaaaaacbddbbddcbbaaaddcdacbcbbdbbbabcadabbaabaccbabdaaadcbdbbcabdcadbcdaacddccbaadbcacddddbcbcbdabbadaadcccddddcdaddcbbaddaaabdadabaadabbcbdbdcadccdddcdbbabdadccdbabdbddbdbbbddaaddaacbcadbaacccaacadbdcccbcdcbbdbccbbcbdcaabdbdcacccdcccbccaaaccaaaccbbdacdadbcdbbbccaacdbcabccaacaaadbaaddcdbbabdbcdbacadcaaabaacdaaadabacaadcaadbadbaacbcddcbdcbcbbadaddbadcddacbadadaaacdadcdbccbbcbddaabddadbdadbadcddcacadcdddddacababccdadbabcacdcbddbbaaadacddbbdcaabbbbdcbcaabadbacdddbaabddacdcbdaadbdddaacbaabcbbbcccdcbccbaaadadadbabdcbcaabaacbaabaaaddaaaccddbcdbbcabcaaacdacdacbbddcdabaadccaabadcbdbdbabdbbddddcdabadddaddcaaddcdcdccdbdbaddacdbdaddcbbbdcbabbacbcadaccaaabcabccbdcbbbdcdcbdabcdddccdaadbdcdbbadcaadacabcaabccbcdabccdbbcbbcdadbcccbbadbcadacabcdacadcadbcdbdbccdcbacccdcbdadbdbaccaabdcbacadcbacccadddbabcdacbbccdabdaabacdbaccbbaddacdacdaaabddaadcbccacddcdcdbaacaccccdaabbbbcbacbddabcccacdadddbccccccccbaddbbabbcdcaaabdbbbcacaccdbaacccabcdcdadccddddcbdcbabcababbdbbadacaccbdcbcbddcddcbaddadadcbbddbabbbcdbbccdbcacdbbdacbcbdacddbadcbcbbcbdabcbdcccbbdddbabbdacddacbdcbbaccbacddbbcadadacddcccbbabbbdacdaadabaacadadcccaadbcaddcdccbdaccaabbbadbacbbcbcadcdacacbacbddaacdbcabcabbdabbdbabcaaddbaabcddabacdbcbbdccdcadddbbdabcadbcabdbcaccacbddbbadcdaabdbadcbbabcaadbcbbddcdbccddddaccbaaadbaddacdccdbcabdaaddcadcdcbcaddbabaabadcabcadacdbadcbabcdbddadcdbaadbacbbacbbaaadabcbbbcdbabaaadcdcccbbaabbdacbbacddcbcbaabbccdcaaccbbcbdacbbdacdddccaaabcaabadabbacabadbacdbcccdadbcdbbcadbdcabaddccccdbdcddbbdbaadacdabaddcacbbabcabbddacdbadabccacdbdbcbcbcdcdacbaacdcbcbcaaacaddbaacadabdbcabbcccdcaabcdbacbcaccadabcacbbacaacabbccbdadabddddaababcbabcdacddcdadddccbaabcdbdbbabccdcbdcdbbcddacabdbaccdbdbcbbcadcddacdcbbbaacdccddbcadddcaddbcadcbababcddadaacababcacbbbdabccabbacaabbadccbbbcddcdcabbcbdddadcbddadaccadacaabcbabcdbdbcdbddcccbbbcdcdcaaabdbabcddcddabaaadadbcdddccdcbcdccdaabbbdccbbdadbadaadcbad'

amounts = 'abcd'.chars.map { |c| [c, s.count(c)] }.to_h

puts amounts.values_at('a', 'c').sum.even? && amounts.values_at('b', 'd').sum.even?
